1) Make the project folder

In your terminal run (copy-paste):

# Windows CMD / PowerShell & Linux/mac:
mkdir node-mongo-compose
cd node-mongo-compose

2) Create the app folder and files (recommended: use VS Code or Notepad)
A — Recommended (easy to edit)

Open the folder in VS Code: code . (or open it in File Explorer and edit).

Create folder: app

Inside app, create these files with exact contents shown below:

app/package.json

app/server.js

app/Dockerfile

At project root create docker-compose.yml.

3) File contents — copy exactly
app/package.json
{
  "name": "node-mongo-app",
  "version": "1.0.0",
  "main": "server.js",
  "dependencies": {
    "express": "^4.18.2",
    "mongoose": "^7.0.0"
  }
}

app/server.js
const express = require('express');
const mongoose = require('mongoose');

const app = express();
const PORT = 3000;
const MONGO_URL = process.env.MONGO_URL || 'mongodb://mongo:27017/testdb';

mongoose.connect(MONGO_URL, { useNewUrlParser: true, useUnifiedTopology: true })
  .then(() => console.log('MongoDB Connected'))
  .catch(err => console.error('MongoDB connection error:', err));

app.get('/', (req, res) => {
  res.send('<h1>Hello from Node.js + MongoDB (Docker Compose)</h1>');
});

app.listen(PORT, () => console.log(`Server running on port ${PORT}`));

app/Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package.json .
RUN npm install --production
COPY . .
EXPOSE 3000
CMD ["node", "server.js"]

docker-compose.yml (in project root)
services:
  mongo:
    image: mongo:6.0
    container_name: mongo_db
    restart: always
    volumes:
      - mongo_data:/data/db

  app:
    build: ./app
    container_name: node_app
    depends_on:
      - mongo
    ports:
      - "3000:3000"
    environment:
      - MONGO_URL=mongodb://mongo:27017/testdb
    restart: always

volumes:
  mongo_data:

4) Build & run the stack

From the project root (node-mongo-compose), run:

docker-compose up --build -d


What this does:

builds the Node image

pulls Mongo image

starts both containers in the background

5) Verify it’s working — exact checks to run and show in lab

List running containers:

docker ps


You should see node_app and mongo_db with STATUS Up.

View logs (Node app):

docker logs -f node_app


You should see MongoDB Connected and Server running on port 3000.

Open in browser:

http://localhost:3000


You should see the “Hello from Node.js + MongoDB…” page.
